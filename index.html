<!DOCTYPE html>
<html lang="ja" class="no-js">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0, viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta name="theme-color" content="#0a0a1a" />
  <title>My Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="css/dropdown.css">
</head>
<body class="loading">
  <!-- ナビゲーション -->
  <nav class="ink-nav">
    <a href="index.html" class="nav-item" style="--bg-image: url('images/ink/ink3@4x.png')">
      <span>UBZR</span>
      <small class="cipher-text">HOME</small>
    </a>
    <div class="nav-item work-dropdown" style="--bg-image: url('images/ink/ink4@4x.png')">
      <div class="dropdown-container">
        <button 
          class="dropdown-trigger nav-link" 
          id="workDropdownBtn"
          aria-expanded="false"
          aria-haspopup="true"
          aria-controls="workDropdown">
          <span>JBEX</span>
          <small class="cipher-text">WORK</small>
          <span class="arrow" aria-hidden="true">▼</span>
        </button>
        <ul 
          class="dropdown-menu" 
          id="workDropdown" 
          role="menu" 
          aria-labelledby="workDropdownBtn">
          <!-- 閉じるボタンを追加 -->
          <button class="close-menu-btn" id="closeMenuBtn" aria-label="メニューを閉じる">✕</button>
          <li role="none"><a href="#work" class="dropdown-item" role="menuitem">All Works</a></li>
          <li role="none"><a href="web紹介/enteki.html" class="dropdown-item" role="menuitem">MATOMA-遠的</a></li>
          <li role="none"><a href="web紹介/ibakyuren.html" class="dropdown-item" role="menuitem">茨城県弓道連盟（試作）</a></li>
          <li role="none"><a href="web紹介/ryusyokai.html" class="dropdown-item" role="menuitem">龍翔会</a></li>
        </ul>
      </div>
    </div>
    <a href="#skill" class="nav-item" style="--bg-image: url('images/ink/ink２@4x.png')">
      <span>FVXYY</span>
      <small class="cipher-text">SKILL</small>
    </a>
    <a href="#profile" class="nav-item" style="--bg-image: url('images/ink/アセット 1@4x.png')">
      <span>CEBVSVR</span>
      <small class="cipher-text">PROFILE</small>
    </a>
    <a href="#contact" class="nav-item" style="--bg-image: url('images/ink/ink3@4x.png')">
      <span>PBAGNPG</span>
      <small class="cipher-text">CONTACT</small>
    </a>
  </nav>

  <!-- ローディング画面（初回のみ表示） -->
  <div class="loading-screen" id="loadingScreen">
    <video autoplay muted playsinline class="loading-video" id="loadingVideo">
      <source src="images/video/ローディングアニメーション.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <header class="video-header">
    <video muted playsinline class="header-video" id="headerVideo" style="display: none;">
      <source src="images/video/ロゴなし案１ (2).mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <div class="header-overlay"></div>
  </header>

  <main>
    <div class="video-overlay"></div>
    <video autoplay muted loop playsinline class="main-bg-video">
      <source src="images/video/背景高画質化.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    
    <!-- ホームセクション -->
    <section id="home" class="section">
      <div class="content">
        <div class="section-title">
          <h1 class="typing-animation">Jrypbzr gb Zl Cbegsvyvb</h1>
          <small class="cipher-text typing-animation">Welcome to My Portfolio</small>
        </div>
      </div>
    </section>

    <!-- ワークセクション -->
    <section id="work" class="work-section">
      <div class="work-container">
        <div class="work-header-area">
          <h2 class="work-main-title typing-animation">ZL JBEQ</h2>
          <div class="work-english-title typing-animation" data-delay="500">MY CREATIVE WORKS</div>
          
          <div class="filter-area">
            <div class="filter-label">(FILTER)</div>
            <div class="filter-buttons">
              <button class="filter-btn active" data-filter="all">すべて</button>
              <button class="filter-btn" data-filter="webサイト">Webサイト</button>
              <button class="filter-btn" data-filter="illustration">イラスト</button>
              <button class="filter-btn" data-filter="poster">ポスター</button>
            </div>
          </div>
        </div>

        <div class="works-grid">
          <div class="work-card" data-category="webサイト">
            <a href="web紹介/enteki.html" target="_blank" rel="noopener noreferrer">
              <img src="images/Postericon/aikonmato.png" alt="MATOMA-遠的">
            </a>
            <h3 class="work-card-title">MATOMA-遠的</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/illustrator/©龍翔会.png" 
                 alt="龍翔会ヘッダー案" 
                 class="lightbox-trigger"
                 data-title="龍翔会ヘッダー案"
                 data-description="龍翔会のウェブサイト用に作成したヘッダーイラストです。和のテイストをモダンにアレンジしました。"
                 data-tags="イラスト, ヘッダー, 和風">
            <h3 class="work-card-title">龍翔会ヘッダー案</h3>
          </div>
          <div class="work-card" data-category="poster">
            <img src="images/Postericon/初心者教室.png" 
                 alt="龍翔会初心者教室ポスター" 
                 class="lightbox-trigger"
                 data-title="龍翔会初心者教室ポスター"
                 data-description="龍翔会の初心者教室ポスターです。弓道のイメージを色と文字、デザインに表してみました"
                 data-tags="ポスター, イベント">
            <h3 class="work-card-title">龍翔会初心者教室ポスター</h3>
          </div>
          <div class="work-card" data-category="webサイト">
            <a href="web紹介/ryusyokai.html" target="_blank" rel="noopener noreferrer">
              <img src="images/Postericon/龍翔会.png" alt="龍翔会">
            </a>
            <h3 class="work-card-title">龍翔会</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/illustrator/MATOMA.png" 
                 alt="MATOMA-遠的X用ヘッダー" 
                 class="lightbox-trigger"
                 data-title="MATOMA-遠的X用ヘッダー"
                 data-description="MATOMA-遠的のX用ヘッダーです。皆さんに覚えやすいようシンプルなものにいたしました。"
                 data-tags="イラスト">
            <h3 class="work-card-title">MATOMA-遠的のX用ヘッダー</h3>
          </div>
          <div class="work-card" data-category="poster">
            <img src="images/Postericon/見学受付中.png" 
                 alt="見学受付中" 
                 class="lightbox-trigger"
                 data-title="見学受付中"
                 data-description="龍翔会見学受付中のポスターです。和を基本に落ち着いた感じでデザインしました。"
                 data-tags="ポスター">
            <h3 class="work-card-title">龍翔会見学受付中</h3>
          </div>
          <div class="work-card" data-category="webサイト">
            <a href="web紹介/ibakyuren.html" target="_blank" rel="noopener noreferrer">
              <img src="images/Postericon/茨城県弓道連盟.png" alt="茨城県弓道連盟">
            </a>
            <h3 class="work-card-title">茨城県弓道連盟（模倣）</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/illustrator/弓道ポスター.png" 
                 alt="弓道ポスター" 
                 class="lightbox-trigger"
                 data-title="弓道ポスター"
                 data-description="一番最初にillustrationで自身で初めて作ったものです。部活動紹介っぽく書いてみようと思い作ってみました。"
                 data-tags="イラスト">
            <h3 class="work-card-title">弓道ポスター</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/Postericon/1.png" 
                 alt="アイコン" 
                 class="lightbox-trigger"
                 data-title="アイコン"
                 data-description="シンプルシックで作りたいなと思い自身のアイコンを作ってみました。"
                 data-tags="イラスト">
            <h3 class="work-card-title">アイコン</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/Postericon/1000005074.png" 
                 alt="的" 
                 class="lightbox-trigger"
                 data-title="的"
                 data-description="市松模様が入った的です。"
                 data-tags="イラスト">
            <h3 class="work-card-title">的</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/Postericon/aikonmato.png" 
                 alt="MATOMA-遠的　icon" 
                 class="lightbox-trigger"
                 data-title="MATOMA-遠的　icon"
                 data-description="MATOMA-遠的のiconです。遠的の的の一種であるカラフルな的をモチーフにしてみました。"
                 data-tags="イラスト">
            <h3 class="work-card-title">MATOMA-遠的　アイコン</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/Postericon/アイコンリング-(1).png" 
                 alt="アイコンリング" 
                 class="lightbox-trigger"
                 data-title="アイコンリング"
                 data-description="弓道をモチーフに日本伝統技巧の金継ぎと日本の象徴である桜をモチーフに作ってみました。"
                 data-tags="イラスト">
            <h3 class="work-card-title">アイコンリング</h3>
          </div>
          <div class="work-card" data-category="illustration">
            <img src="images/Postericon/龍翔会.png" 
                 alt="龍翔会アイコン" 
                 class="lightbox-trigger"
                 data-title="龍翔会アイコン"
                 data-description="出会いの春であるように、弓道に入ってたくさんの出会いがある様に春の温かさをイメージしながら作りました"
                 data-tags="イラスト">
            <h3 class="work-card-title">龍翔会アイコン</h3>
          </div>
          <div class="work-card" data-category="poster">
            <img src="images/Postericon/弓道ポスター１.png" 
                 alt="龍翔会ポスター案" 
                 class="lightbox-trigger"
                 data-title="龍翔会ポスター案"
                 data-description="龍翔会ポスター案です。背景を和紙にしてどうしたら見えやすいかなど考えていきました"
                 data-tags="ポスター">
            <h3 class="work-card-title">龍翔会ポスター案</h3>
          </div>
        </div>
      </div>
    </section>

    <!-- スキルセクション -->
    <section id="skill" class="section">
      <div class="content">
        <div class="section-title">
          <h2 class="typing-animation">FXVYYF</h2>
          <small class="cipher-text typing-animation">SKILLS</small>
        </div>
        <div class="skills-container">
          <div class="skill-category">
            <h3>Frontend</h3>
            <ul>
              <li>HTML</li>
              <li>CSS</li>
              <li>JavaScript</li>
              <li>GSAP</li>
              <li>WordPress（テーマ／フロント）</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Platform / Tools</h3>
            <ul>
              <li>Vercel（デプロイ）</li>
              <li>GitHub（バージョン管理）</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- プロフィールセクション -->
    <section id="profile" class="section">
      <div class="content">
        <div class="section-title">
          <h2 class="typing-animation">PROFILE</h2>
          <small class="cipher-text typing-animation">PROFILE</small>
        </div>

        <div class="profile-content">
          <div class="profile-image">
            <img src="images/kyudo.jpg" alt="鈴木咲 プロフィール画像" style="width:100%;height:auto;border-radius:8px;">
          </div>
          <div class="profile-text">
            <h3>鈴木咲 — Webデザイナー志望</h3>
            <p>人の心に残る「見た目」と「動き」を作ることに情熱を注いでいます。情報を読みやすく整理し、色やアニメーションでユーザーの体験を高めるデザインを目指しています。現在はHTML/CSS/JavaScriptとWordPressのカスタマイズを中心に学び、実務で使えるインタラクティブなサイト制作を練習中です。</p>
            <h3>Experience</h3>
            <p>水泳コーチ (2020–2022)：指導計画の作成、初心者から競技者までのトレーニング指導、イベント運営、保護者との連携を担当し、コミュニケーション力と状況把握力を磨きました。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- コンタクトセクション -->
    <section id="contact" class="section">
      <div class="content">
        <div class="section-title">
          <h2 class="typing-animation">CONTACT</h2>
          <small class="cipher-text typing-animation">CONTACT</small>
        </div>
        <form class="contact-form" id="contactForm" action="https://formspree.io/f/xovgkgvd" method="POST">
          <input type="text" name="name" placeholder="お名前" required>
          <input type="email" name="email" placeholder="メールアドレス" required>
          <textarea name="message" placeholder="メッセージ" required></textarea>
          <button type="submit">送信</button>
          <div id="contactStatus" role="status" aria-live="polite" style="margin-top:10px;color:#cfc;"></div>
        </form>
      </div>
    </section>
  </main>

  <style>
    /* RPG Battle Interface Styles */
    .rpg-battle-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 30px;
      background: rgba(10, 10, 26, 0.8);
      border: 2px solid #4a4a6a;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .rpg-player-side {
      flex: 1;
      min-width: 300px;
      padding: 15px;
      background: rgba(20, 20, 40, 0.7);
      border-radius: 8px;
      border: 1px solid #5a5a8a;
    }

    .rpg-character {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(30, 30, 60, 0.6);
      border-radius: 8px;
      border-left: 4px solid #4a9fff;
      transition: all 0.3s ease;
    }

    .rpg-character.active {
      border-left-color: #ff6b6b;
      box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
    }

    .character-sprite {
      width: 100px;
      height: 100px;
      margin-right: 15px;
      border: 2px solid #4a4a6a;
      border-radius: 8px;
      overflow: hidden;
      background: rgba(0, 0, 0, 0.3);
    }

    .character-sprite img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .character-stats {
      flex: 1;
    }

    .character-name {
      font-size: 1.2em;
      font-weight: bold;
      color: #fff;
      margin-bottom: 5px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }

    .hp-bar {
      width: 100%;
      height: 12px;
      background: #3a3a5a;
      border-radius: 6px;
      margin: 5px 0;
      overflow: hidden;
    }

    .hp-fill {
      height: 100%;
      background: linear-gradient(90deg, #ff3333, #ff6b6b);
      border-radius: 6px;
      transition: width 0.3s ease;
    }

    .character-level {
      font-size: 0.8em;
      color: #4a9fff;
      margin-top: 5px;
    }

    .character-status {
      display: inline-block;
      padding: 2px 8px;
      background: #4caf50;
      border-radius: 10px;
      font-size: 0.7em;
      color: white;
      margin-top: 5px;
    }

    .character-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
    }

    .character-thumbnail {
      width: 80px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .character-thumbnail:hover {
      transform: translateY(-5px);
    }

    .character-thumbnail img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid #4a4a6a;
      object-fit: cover;
      margin-bottom: 5px;
    }

    .character-thumbnail span {
      display: block;
      font-size: 0.8em;
      color: #ccc;
    }

    .rpg-battle-log {
      flex: 2;
      min-width: 300px;
      background: rgba(20, 20, 40, 0.7);
      border-radius: 8px;
      padding: 15px;
      border: 1px solid #5a5a8a;
      display: flex;
      flex-direction: column;
    }

    .log-container {
      flex: 1;
      background: rgba(10, 10, 20, 0.5);
      border: 1px solid #4a4a6a;
      border-radius: 6px;
      padding: 10px;
      margin-bottom: 15px;
      overflow-y: auto;
      max-height: 200px;
    }

    .log-entry {
      margin-bottom: 8px;
      padding: 5px 0;
      border-bottom: 1px dashed #4a4a6a;
    }

    .log-time {
      color: #4a9fff;
      font-size: 0.8em;
      margin-right: 10px;
    }

    .log-message {
      color: #e0e0e0;
      font-size: 0.9em;
    }

    .project-details {
      background: rgba(30, 30, 60, 0.6);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      border-left: 4px solid #4a9fff;
    }

    .project-details.hidden {
      display: none;
    }

    .project-details h3 {
      color: #fff;
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 1.3em;
    }

    .project-description {
      color: #ccc;
      font-size: 0.9em;
      line-height: 1.5;
      margin-bottom: 15px;
    }

    .project-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .project-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
    }

    .tag {
      background: rgba(74, 74, 106, 0.5);
      color: #a0a0c0;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.8em;
    }

    .battle-menu {
      display: flex;
      justify-content: center;
      margin-top: 15px;
    }
    
    .battle-command {
      min-width: 200px;
      text-align: center;
    }

    .battle-command {
      background: linear-gradient(135deg, #4a4a6a, #2a2a4a);
      border: none;
      color: #e0e0e0;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      font-size: 0.8em;
      letter-spacing: 1px;
      transition: all 0.2s ease;
      border: 1px solid #5a5a8a;
    }

    .battle-command:hover {
      background: linear-gradient(135deg, #5a5a8a, #3a3a6a);
      transform: translateY(-2px);
    }

    .battle-button {
      display: inline-block;
      background: linear-gradient(135deg, #4a9fff, #2a7fdf);
      color: white;
      padding: 8px 15px;
      border-radius: 5px;
      text-decoration: none;
      font-size: 0.9em;
      transition: all 0.2s ease;
      text-align: center;
    }

    .battle-button.disabled {
      background: linear-gradient(135deg, #6a6a8a, #4a4a6a);
      color: #a0a0c0;
      cursor: not-allowed;
    }

    .battle-button:not(.disabled):hover {
      background: linear-gradient(135deg, #6ab9ff, #4a99ff);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    @media (max-width: 1024px) {
      .rpg-battle-container {
        gap: 15px;
        padding: 15px;
      }

      .rpg-player-side {
        min-width: 250px;
      }

      .rpg-battle-log {
        flex: 1.5;
        min-width: 250px;
      }

      .character-sprite {
        width: 80px;
        height: 80px;
        margin-right: 10px;
      }

      .character-name {
        font-size: 1em;
      }

      .project-details h3 {
        font-size: 1.1em;
      }
    }

    @media (max-width: 768px) {
      .rpg-battle-container {
        flex-direction: column;
        gap: 15px;
        padding: 10px;
      }
      
      .rpg-player-side,
      .rpg-battle-log {
        width: 100%;
        min-width: 100%;
        padding: 12px;
      }

      .character-sprite {
        width: 70px;
        height: 70px;
        margin-right: 10px;
        border: 1px solid #4a4a6a;
      }

      .character-name {
        font-size: 0.95em;
      }

      .character-level {
        font-size: 0.75em;
      }

      .character-status {
        font-size: 0.65em;
        padding: 2px 6px;
      }

      .character-selector {
        gap: 8px;
      }

      .character-thumbnail {
        width: 70px;
      }

      .character-thumbnail img {
        width: 50px;
        height: 50px;
      }

      .character-thumbnail span {
        font-size: 0.7em;
      }

      .log-container {
        max-height: 150px;
        padding: 8px;
      }

      .log-entry {
        margin-bottom: 6px;
        padding: 3px 0;
        font-size: 0.85em;
      }

      .log-time {
        font-size: 0.75em;
      }

      .log-message {
        font-size: 0.85em;
      }

      .project-details {
        padding: 12px;
        margin-bottom: 12px;
      }

      .project-details h3 {
        font-size: 1em;
        margin-bottom: 8px;
      }

      .project-description {
        font-size: 0.85em;
        margin-bottom: 10px;
      }

      .project-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }

      .project-tags {
        gap: 4px;
      }

      .tag {
        font-size: 0.75em;
        padding: 2px 6px;
      }

      .battle-menu {
        grid-template-columns: 1fr;
      }

      .battle-button {
        padding: 6px 12px;
        font-size: 0.8em;
      }

      .battle-command {
        min-width: 150px;
        padding: 8px;
        font-size: 0.75em;
      }
    }

    @media (max-width: 480px) {
      .rpg-battle-container {
        gap: 10px;
        padding: 8px;
        border-radius: 8px;
      }

      .rpg-player-side {
        padding: 10px;
      }

      .rpg-character {
        padding: 10px;
        margin-bottom: 15px;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .character-sprite {
        width: 60px;
        height: 60px;
        margin-right: 0;
        margin-bottom: 10px;
      }

      .character-stats {
        width: 100%;
      }

      .character-name {
        font-size: 0.9em;
      }

      .character-selector {
        gap: 6px;
        justify-content: center;
      }

      .character-thumbnail {
        width: 60px;
      }

      .character-thumbnail img {
        width: 45px;
        height: 45px;
      }

      .rpg-battle-log {
        padding: 10px;
      }

      .log-container {
        max-height: 120px;
        padding: 6px;
      }

      .project-details {
        padding: 10px;
      }

      .project-details h3 {
        font-size: 0.9em;
      }

      .project-description {
        font-size: 0.8em;
      }

      .battle-button {
        padding: 5px 10px;
        font-size: 0.75em;
      }

      .battle-command {
        min-width: 120px;
        font-size: 0.7em;
      }
    }

    /* 既存のメディアクエリ */
    @media (max-width: 768px) {
      .battle-menu {
        grid-template-columns: 1fr;
      }
    }

    /* Profile styles */
    .profile-content {
      display: flex;
      gap: 30px;
      align-items: flex-start;
    }

    .profile-image {
      flex: 0 0 280px;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .profile-image img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-text {
      flex: 1;
      color: #ccc;
    }

    .profile-text h3 {
      color: #fff;
      font-size: 1.5em;
      margin-bottom: 15px;
    }

    .profile-text p {
      line-height: 1.8;
      margin-bottom: 20px;
      font-size: 0.95em;
    }
  </style>

  <script>
    // セッションストレージをチェックして初回アクセスかどうかを確認
    if (sessionStorage.getItem('hasShownLoading') === 'true') {
      // すでに表示済みの場合はローディング画面を非表示に
      const loadingScreen = document.getElementById('loadingScreen');
      if (loadingScreen) {
        loadingScreen.style.display = 'none';
      }
      document.body.classList.remove('loading');
      
      // ヘッダービデオを表示して再生
      const headerVideo = document.getElementById('headerVideo');
      if (headerVideo) {
        headerVideo.style.display = 'block';
        headerVideo.play().catch(e => console.log('Header video play failed:', e));
      }
    } else {
      // 初回アクセスの場合、セッションストレージにフラグを設定
      sessionStorage.setItem('hasShownLoading', 'true');
      
      // ローディング状態のクラスを削除
      document.body.classList.remove('loading');

      // ローディング動画の処理
      const loadingVideo = document.getElementById('loadingVideo');
      if (loadingVideo) {
        // 動画が終了したらフェードアウト
        function finishLoading() {
          const loadingScreen = document.getElementById('loadingScreen');
          if (loadingScreen) {
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
              loadingScreen.style.display = 'none';
              // ローディング完了後にヘッダービデオを表示して再生
              const headerVideo = document.getElementById('headerVideo');
              if (headerVideo) {
                headerVideo.style.display = 'block';
                headerVideo.play().catch(e => console.log('Header video play failed:', e));
              }
            }, 500);
          }
          document.body.classList.remove('loading');
        }
        
        // ローディング動画が終了したら
        loadingVideo.addEventListener('ended', finishLoading);
        
        // 念のため、動画が再生できない場合のフォールバック
        setTimeout(finishLoading, 5000);
      }
    }
  </script>
  <script>
    // タッチデバイス用のハンドラーを追加
    document.addEventListener('DOMContentLoaded', function() {
      // タッチデバイス用のハンドラー
      function handleFirstTouch() {
        document.body.classList.add('has-touch');
        document.removeEventListener('touchstart', handleFirstTouch);
      }
      
      // タッチイベントの検出
      if ('ontouchstart' in window || navigator.maxTouchPoints) {
        document.addEventListener('touchstart', handleFirstTouch, false);
      }
      
      // Project data for character info updates
      const projectData = {
        'RGSK-001': {
          name: '龍翔会 弓道部',
          level: 'Lv.99',
          status: 'COMPLETED',
          hp: 100,
          image: 'images/Postericon/龍翔会.png',
          logs: [
            { date: '[2024.11.23]', message: '大会・審査成績を更新しました' },
            { date: '[2024.11.23]', message: '大会・審査要項を更新しました' },
            { date: '[2024.10.20]', message: '大会・審査要項を更新しました' },
            { date: '[2024.10.20]', message: '大会・審査成績を更新しました' },
            { date: '[2024.09.21]', message: '大会・審査成績を更新しました' }
          ]
        },
        'ENTEKI-001': {
          name: 'MATOMA - 遠的',
          level: 'Lv.85',
          status: 'IN PROGRESS',
          hp: 85,
          image: 'images/Postericon/aikonmato.png',
          logs: [
            { date: '[2025.10.27]', message: '更新' },
            { date: '[2025.10.22]', message: '更新' },
            { date: '[2025.10.21]', message: '更新' },
            { date: '[2025.10.19]', message: '更新' },
            { date: '[2025.10.18]', message: '更新' },
            { date: '[2025.10.16]', message: '更新' },
            { date: '[2025.10.10]', message: '更新' },
            { date: '[2025.10.09]', message: '更新' },
            { date: '[2025.10.08]', message: '更新' },
            { date: '[2025.10.06]', message: '更新' },
            { date: '[2025.10.05]', message: '更新' },
            { date: '[2025.10.03]', message: '更新' },
            { date: '[2025.09.26]', message: '更新' },
            { date: '[2025.09.25]', message: '公開' }
          ]
        },
        'ZELDA-001': {
          name: '茨城県弓道連盟（模倣）',
          level: 'Lv.75',
          status: 'COMPLETED',
          hp: 75,
          image: 'images/Postericon/茨城県弓道連盟.png',
          logs: [
            { date: '[2025.11.06]', message: '完成' },
            { date: '[2025.11.01]', message: '企画、作成開始' }
          ]
        },
        'PKMN-2024': {
          name: 'ポケモン スカーレット',
          level: 'Lv.65',
          status: 'IN PROGRESS',
          hp: 65,
          image: 'https://via.placeholder.com/80/2d2424/0f3460?text=PKMN'
        }
      };

      // RPG Character Selection
      document.querySelectorAll('.character-thumbnail').forEach(thumb => {
        thumb.addEventListener('click', function() {
          const targetId = this.getAttribute('data-target');
          const project = projectData[targetId];
          
          if (!project) return;
          
          // Update active character and main display
          const activeCharElement = document.querySelector('.rpg-character.active');
          
          // Update character name
          const charName = activeCharElement.querySelector('.character-name');
          if (charName) charName.textContent = project.name;
          
          // Update character level
          const charLevel = activeCharElement.querySelector('.character-level');
          if (charLevel) charLevel.textContent = project.level;
          
          // Update character status
          const charStatus = activeCharElement.querySelector('.character-status');
          if (charStatus) {
            charStatus.textContent = project.status;
            charStatus.style.background = project.status === 'COMPLETED' ? '#4caf50' : '#ff9800';
          }
          
          // Update character HP bar
          const hpFill = activeCharElement.querySelector('.hp-fill');
          if (hpFill) hpFill.style.width = `${project.hp}%`;
          
          // Update character image
          const charImage = activeCharElement.querySelector('.character-image');
          if (charImage && project.image) {
            charImage.src = project.image;
            charImage.alt = project.name;
          }
          
          // Update data-id on active character element
          activeCharElement.setAttribute('data-id', targetId);
          
          // Update log container if project has custom logs
          if (project.logs) {
            const logContainer = document.querySelector('.log-container');
            logContainer.innerHTML = ''; // Clear existing logs
            project.logs.forEach(log => {
              const logEntry = document.createElement('div');
              logEntry.className = 'log-entry';
              logEntry.innerHTML = `
                <span class="log-time">${log.date}</span>
                <span class="log-message">${log.message}</span>
              `;
              logContainer.appendChild(logEntry);
            });
          }
          
          // Update project details
          document.querySelectorAll('.project-details').forEach(detail => {
            detail.classList.toggle('hidden', detail.getAttribute('data-project') !== targetId);
          });
        });
      });
      
      // Battle command buttons
      document.querySelectorAll('.battle-command').forEach(button => {
        button.addEventListener('click', function() {
          const command = this.getAttribute('data-command');
          const logContainer = document.querySelector('.log-container');
          let message = '';
          
          switch(command) {
            case 'details':
              message = 'プロジェクトの詳細情報を表示します...';
              break;
            case 'skills':
              message = '使用したスキルや技術を表示します...';
              break;
            case 'items':
              message = '使用したツールやリソースを表示します...';
              break;
            case 'flee':
              message = '前の画面に戻ります...';
              // Add navigation logic here if needed
              break;
          }
          
          if (message) {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `
              <span class="log-time">[${new Date().toLocaleTimeString()}]</span>
              <span class="log-message">${message}</span>
            `;
            logContainer.prepend(logEntry);
          }
        });
      });
      
      // モバイルメニューのトグル処理（必要に応じて追加）
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => {
        item.addEventListener('click', function() {
          // モバイルメニューを閉じる処理をここに追加（必要に応じて）
        });
      });

      // Contact form submission -> Formspree integration
      const contactForm = document.getElementById('contactForm');
      if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const statusEl = document.getElementById('contactStatus');
          if (statusEl) {
            statusEl.style.color = '#cfc';
            statusEl.textContent = '送信中…';
          }

          const formData = new FormData(this);

          fetch(this.action, {
            method: 'POST',
            body: formData,
            headers: {
              'Accept': 'application/json'
            }
          }).then(response => {
            if (response.ok) {
              if (statusEl) {
                statusEl.style.color = '#a6f3a6';
                statusEl.textContent = '送信が完了しました。ありがとうございました。';
              }
              contactForm.reset();
            } else {
              response.json().then(data => {
                if (statusEl) {
                  statusEl.style.color = '#f3a6a6';
                  statusEl.textContent = data && data.error ? `送信に失敗しました: ${data.error}` : '送信に失敗しました。別の方法でご連絡ください。';
                }
              }).catch(() => {
                if (statusEl) {
                  statusEl.style.color = '#f3a6a6';
                  statusEl.textContent = '送信に失敗しました。';
                }
              });
            }
          }).catch(err => {
            console.error('Contact submit error:', err);
            if (statusEl) {
              statusEl.style.color = '#f3a6a6';
              statusEl.textContent = 'ネットワークエラーで送信できませんでした。';
            }
          });
        });
      }
    });
  </script>

  <!-- フッター -->
  <footer class="ink-footer">
    <div class="footer-content">
      
      
      <div class="footer-section">
        <h4>Links</h4>
        <ul class="footer-links">
          <li><a href="#home">UBZR <small class="cipher-text">HOME</small></a></li>
          <li><a href="#work">JBEX <small class="cipher-text">WORK</small></a></li>
          <li><a href="#skill">FVXYY <small class="cipher-text">SKILL</small></a></li>
          <li><a href="#profile">CEBVSVR <small class="cipher-text">PROFILE</small></a></li>
          <li><a href="#contact">PBAGNPG <small class="cipher-text">CONTACT</small></a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Connect</h4>
        <div class="social-links">
          <a href="#" class="social-icon" style="--ink-color: #00f0ff">
            <span>Twitter</span>
            <div class="ink-splat"></div>
          </a>
          <a href="#" class="social-icon" style="--ink-color: #ff00aa">
            <span>GitHub</span>
            <div class="ink-splat"></div>
          </a>
          <a href="#" class="social-icon" style="--ink-color: #a0ff00">
            <span>Instagram</span>
            <div class="ink-splat"></div>
          </a>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 INK STUDIO. All rights reserved.</p>
      <div class="ink-trail"></div>
    </div>
  </footer>

  <!-- Lightbox Modal -->
  <div id="imageModal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-container">
      <button class="close-modal" aria-label="閉じる">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      
      <button class="modal-nav prev" aria-label="前の画像">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      
      <div class="modal-content-container">
        <div class="modal-loading"></div>
        <img class="modal-content" id="modalImage" alt="拡大画像">
        
        <div class="modal-footer">
          <h3 class="modal-title"></h3>
          <p class="modal-description"></p>
          <div class="modal-tags"></div>
        </div>
      </div>
      
      <button class="modal-nav next" aria-label="次の画像">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
  </div>

  <script>
    // Lightbox functionality
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize filter functionality
      const filterBtns = document.querySelectorAll('.filter-btn');
      const workCards = document.querySelectorAll('.work-card');

      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          // Remove active class from all buttons
          filterBtns.forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          btn.classList.add('active');

          const filterValue = btn.getAttribute('data-filter');

          workCards.forEach(card => {
            if (filterValue === 'all') {
              card.style.display = 'block';
            } else {
              const category = card.getAttribute('data-category');
              if (category === filterValue) {
                card.style.display = 'block';
              } else {
                card.style.display = 'none';
              }
            }
          });
        });
      });

      // Lightbox functionality
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalTitle = document.querySelector('.modal-title');
      const modalDescription = document.querySelector('.modal-description');
      const modalTags = document.querySelector('.modal-tags');
      const loadingIndicator = document.querySelector('.modal-loading');
      const closeBtn = document.querySelector('.close-modal');
      const prevBtn = document.querySelector('.modal-nav.prev');
      const nextBtn = document.querySelector('.modal-nav.next');
      
      let currentImage = null;
      let isAnimating = false;
      let touchStartX = 0;
      let touchEndX = 0;

      // Open modal function
      function openModal(imgElement) {
        if (isAnimating || !imgElement) return;
        
        isAnimating = true;
        currentImage = imgElement;
        
        // Show modal
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        // Set modal content
        const title = imgElement.getAttribute('data-title') || imgElement.alt || '';
        const description = imgElement.getAttribute('data-description') || '';
        const tags = imgElement.getAttribute('data-tags') ? 
          imgElement.getAttribute('data-tags').split(',') : [];
        
        // Update text content
        modalTitle.textContent = title;
        modalDescription.textContent = description;
        
        // Update tags
        modalTags.innerHTML = tags.map(tag => 
          `<span class="tag">#${tag.trim()}</span>`
        ).join('');
        
        // Reset loading indicator
        loadingIndicator.style.display = 'block';
        modalImg.style.opacity = '0';
        
        // Force reflow to ensure animation runs
        void modal.offsetWidth;
        
        // Start animation
        modal.classList.add('show');
        
        // Preload image
        const img = new Image();
        img.onload = () => {
          modalImg.src = imgElement.src;
          modalImg.alt = imgElement.alt || title;
          
          // Animate after image loads
          setTimeout(() => {
            modalImg.style.opacity = '1';
            loadingIndicator.style.display = 'none';
            isAnimating = false;
          }, 50);
        };
        
        img.onerror = () => {
          modalImg.alt = '画像の読み込みに失敗しました';
          loadingIndicator.style.display = 'none';
          isAnimating = false;
        };
        
        img.src = imgElement.src;
      }

      // Close modal function
      function closeModal() {
        if (isAnimating || !modal.classList.contains('show')) return;
        isAnimating = true;
        
        modal.classList.remove('show');
        
        // Reset after animation
        setTimeout(() => {
          modal.style.display = 'none';
          modalImg.style.opacity = '0';
          modalImg.src = '';
          currentImage = null;
          isAnimating = false;
          document.body.style.overflow = 'auto';
          
          // Reset loading indicator
          loadingIndicator.style.display = 'block';
        }, 250);
      }

      // Navigate between images
      function navigate(direction) {
        if (isAnimating) return;
        
        const images = Array.from(document.querySelectorAll('.lightbox-trigger'));
        if (images.length <= 1) return;
        
        let currentIndex = currentImage ? images.indexOf(currentImage) : -1;
        
        if (direction === 'next') {
          currentIndex = (currentIndex + 1) % images.length;
        } else {
          currentIndex = (currentIndex - 1 + images.length) % images.length;
        }
        
        // Only navigate if different from current image
        if (currentIndex !== images.indexOf(currentImage)) {
          openModal(images[currentIndex]);
        }
      }

      // Touch event handlers for swipe
      function handleTouchStart(e) {
        touchStartX = e.changedTouches[0].screenX;
      }

      function handleTouchEnd(e) {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      }

      function handleSwipe() {
        const diff = touchStartX - touchEndX;
        
        // Swipe threshold (pixels)
        const threshold = 50;
        
        if (Math.abs(diff) > threshold) {
          if (diff > 0) {
            navigate('next');
          } else {
            navigate('prev');
          }
        }
      }

      // Image click event
      document.querySelectorAll('.lightbox-trigger').forEach(img => {
        img.addEventListener('click', function(e) {
          e.preventDefault();
          openModal(this);
        });
        
        // Add tabindex for keyboard navigation
        img.setAttribute('tabindex', '0');
        
        // Keyboard navigation (Enter/Space to open)
        img.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openModal(this);
          }
        });
      });

      // Close button event
      closeBtn.addEventListener('click', closeModal);
      
      // Navigation buttons
      prevBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        navigate('prev');
      });
      
      nextBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        navigate('next');
      });
      
      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (!modal.classList.contains('show')) return;
        
        switch(e.key) {
          case 'Escape':
            e.preventDefault();
            closeModal();
            break;
          case 'ArrowLeft':
            e.preventDefault();
            navigate('prev');
            break;
          case 'ArrowRight':
            e.preventDefault();
            navigate('next');
            break;
        }
      });
      
      // Touch events
      modal.addEventListener('touchstart', handleTouchStart, { passive: true });
      modal.addEventListener('touchend', handleTouchEnd, { passive: true });
      
      // Close on background click
      modal.addEventListener('click', (e) => {
        if (e.target === modal || e.target.classList.contains('modal-overlay')) {
          closeModal();
        }
      });
    });
  </script>

  <script src="main.js"></script>
  <script src="js/typingAnimation.js"></script>
  <script src="js/dropdown.js" defer></script>
</body>
</html>
